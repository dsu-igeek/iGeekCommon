<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.6.0_32) on Wed Apr 15 11:44:33 JST 2015 -->
<title>CompletionEstimator</title>
<meta name="date" content="2015-04-15">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CompletionEstimator";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/igeekinc/util/CompetionHandler.html" title="interface in com.igeekinc.util"><span class="strong">PREV CLASS</span></a></li>
<li><a href="../../../com/igeekinc/util/ConstrainedFileDataSource.html" title="class in com.igeekinc.util"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/igeekinc/util/CompletionEstimator.html" target="_top">FRAMES</a></li>
<li><a href="CompletionEstimator.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li>NESTED&nbsp;|&nbsp;</li>
<li><a href="#field_summary">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li><a href="#field_detail">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<p class="subTitle">com.igeekinc.util</p>
<h2 title="Class CompletionEstimator" class="title">Class CompletionEstimator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.igeekinc.util.CompletionEstimator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <strong>CompletionEstimator</strong>
extends java.lang.Object</pre>
<div class="block">CompletionEstimator keeps track of the rate of completion of n different
 types of items being completed and will produce an estimate of when the entire process
 will be completed.<br/>
 Internally, there are n fifos of rates (currently set to hold 10 rates each).  As
 items are completed, a new rate for each item type is calculated and then averaged against
 the previous rates and then this average rate is used with the number of items remaining
 to calculate how much time completing the remaining items will take.  The longest time from
 all the item types is returned.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.igeekinc.util.RunningAverage[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#everything">everything</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#itemsRemaining">itemsRemaining</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#kRatesToAverage">kRatesToAverage</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected com.igeekinc.util.RunningAverage[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#last100">last100</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.igeekinc.util.RunningAverage[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#last500">last500</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#lastTimeRemaining">lastTimeRemaining</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#lastUpdateTime">lastUpdateTime</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.LinkedList&lt;java.lang.Double&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#rates">rates</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#totalItems">totalItems</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#CompletionEstimator()">CompletionEstimator</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#CompletionEstimator(long[])">CompletionEstimator</a></strong>(long[]&nbsp;totalItems)</code>
<div class="block">Initialize a CompletionEstimator with the number of item types
 to track and the number of items for each type.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#getNextEstimate(long[])">getNextEstimate</a></strong>(long[]&nbsp;itemsHandled)</code>
<div class="block">Calculates how much longer (in milliseconds) it will take to 
 handle the remaining items based on how long it has been taking
 to handle items.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#getNextEstimate(long[], long)">getNextEstimate</a></strong>(long[]&nbsp;itemsHandled,
               long&nbsp;currentTime)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#getTotalItems()">getTotalItems</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/igeekinc/util/CompletionEstimator.html#init(long[])">init</a></strong>(long[]&nbsp;totalItems)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="rates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rates</h4>
<pre>protected&nbsp;java.util.LinkedList&lt;java.lang.Double&gt;[] rates</pre>
</li>
</ul>
<a name="totalItems">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalItems</h4>
<pre>protected&nbsp;long[] totalItems</pre>
</li>
</ul>
<a name="itemsRemaining">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>itemsRemaining</h4>
<pre>protected&nbsp;long[] itemsRemaining</pre>
</li>
</ul>
<a name="lastUpdateTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastUpdateTime</h4>
<pre>protected&nbsp;long lastUpdateTime</pre>
</li>
</ul>
<a name="kRatesToAverage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>kRatesToAverage</h4>
<pre>protected static final&nbsp;int kRatesToAverage</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.igeekinc.util.CompletionEstimator.kRatesToAverage">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="everything">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>everything</h4>
<pre>protected&nbsp;com.igeekinc.util.RunningAverage[] everything</pre>
</li>
</ul>
<a name="last100">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>last100</h4>
<pre>protected&nbsp;com.igeekinc.util.RunningAverage[] last100</pre>
</li>
</ul>
<a name="last500">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>last500</h4>
<pre>protected&nbsp;com.igeekinc.util.RunningAverage[] last500</pre>
</li>
</ul>
<a name="lastTimeRemaining">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lastTimeRemaining</h4>
<pre>protected&nbsp;long lastTimeRemaining</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CompletionEstimator(long[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CompletionEstimator</h4>
<pre>public&nbsp;CompletionEstimator(long[]&nbsp;totalItems)</pre>
<div class="block">Initialize a CompletionEstimator with the number of item types
 to track and the number of items for each type.  The position of each type in the 
 inItemsRemaining is the position that they need to be in in calls to
 getNextEstimate()</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>numItemTypesToTrack</code> - </dd><dd><code>totalItems</code> - </dd></dl>
</li>
</ul>
<a name="CompletionEstimator()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CompletionEstimator</h4>
<pre>protected&nbsp;CompletionEstimator()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init(long[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>protected&nbsp;void&nbsp;init(long[]&nbsp;totalItems)</pre>
</li>
</ul>
<a name="getNextEstimate(long[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextEstimate</h4>
<pre>public&nbsp;long&nbsp;getNextEstimate(long[]&nbsp;itemsHandled)</pre>
<div class="block">Calculates how much longer (in milliseconds) it will take to 
 handle the remaining items based on how long it has been taking
 to handle items.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>itemsHandled</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getNextEstimate(long[], long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextEstimate</h4>
<pre>protected&nbsp;long&nbsp;getNextEstimate(long[]&nbsp;itemsHandled,
                   long&nbsp;currentTime)</pre>
</li>
</ul>
<a name="getTotalItems()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getTotalItems</h4>
<pre>public&nbsp;long[]&nbsp;getTotalItems()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/igeekinc/util/CompetionHandler.html" title="interface in com.igeekinc.util"><span class="strong">PREV CLASS</span></a></li>
<li><a href="../../../com/igeekinc/util/ConstrainedFileDataSource.html" title="class in com.igeekinc.util"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/igeekinc/util/CompletionEstimator.html" target="_top">FRAMES</a></li>
<li><a href="CompletionEstimator.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li>NESTED&nbsp;|&nbsp;</li>
<li><a href="#field_summary">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li><a href="#field_detail">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
